# Nuxt Color Mode

::u-page-hero
---
orientation: horizontal
---
#title
[è‡ªåŠ¨æ£€æµ‹]{.text-primary} :br æ·±è‰²å’Œæµ…è‰²æ¨¡å¼

#description
é€‚ç”¨äº Nuxt çš„å³æ’å³ç”¨ Color Mode æ¨¡å—ï¼Œè½»æ¾å®ç°è‡ªåŠ¨æ£€æµ‹ã€‚é€šè¿‡ `.dark` å’Œ `.light` ç±»åè½»æ¾ä¸ºæ‚¨çš„åº”ç”¨è®¾ç½®ä¸»é¢˜ã€‚

#links
  :::u-button
  ---
  icon: i-ph-rocket-launch-duotone
  size: xl
  to: https://nuxt-color-mode.zhcndoc.com/getting-started
  ---
  å¿«é€Ÿå¼€å§‹
  :::

:copy-code-input{source="npx nuxt module add color-mode"}
::

::u-page-section
#title
å……åˆ†åˆ©ç”¨æ‚¨çš„åº”ç”¨çš„ :br [å¼ºå¤§åŠŸèƒ½]{.text-primary}

#features
  :::u-page-card
  ---
  icon: i-ph-moon-duotone
  to: https://nuxt-color-mode.zhcndoc.com/usage/basic
  ---
  #title
  è‡ªåŠ¨æ£€æµ‹

  #description
  è‡ªåŠ¨æ£€æµ‹ç”¨æˆ·çš„ç³»ç»Ÿé¢œè‰²æ¨¡å¼åå¥½ï¼Œå¹¶åº”ç”¨äºæ‚¨çš„åº”ç”¨ã€‚
  :::

  :::u-page-card
  ---
  icon: i-ph-palette-duotone
  to: https://nuxt-color-mode.zhcndoc.com/usage/basic
  ---
  #title
  ç®€æ˜“ CSS ä¸»é¢˜åŒ–

  #description
  å‘æ‚¨çš„ CSS æ·»åŠ  `.dark` å’Œ `.light` ç±»ï¼Œå®ç°è½»æ¾ä¸»é¢˜åŒ–ã€‚
  :::

  :::u-page-card
  ---
  icon: i-ph-lock-duotone
  to: https://nuxt-color-mode.zhcndoc.com/usage/force-mode
  ---
  #title
  é¡µé¢å¼ºåˆ¶æ¨¡å¼

  #description
  å°†ç‰¹å®šé¡µé¢é”å®šä¸ºæŸä¸€é¢œè‰²æ¨¡å¼ï¼Œé€‚åˆæ¸è¿›å¼æš—é»‘æ¨¡å¼å®ç°ã€‚
  :::

  :::u-page-card
  ---
  icon: i-ph-gear-duotone
  to: https://nuxt-color-mode.zhcndoc.com/usage/configuration
  ---
  #title
  é«˜åº¦å¯é…ç½®

  #description
  å¯è‡ªå®šä¹‰å­˜å‚¨æ–¹æ¡ˆã€å›é€€æœºåˆ¶ã€ç±»åç­‰ï¼Œæ»¡è¶³æ‚¨çš„éœ€æ±‚ã€‚
  :::

  :::u-page-card
  ---
  icon: i-ph-brackets-angle-duotone
  to: https://nuxt-color-mode.zhcndoc.com/usage/basic
  ---
  #title
  SSR å‡†å¤‡å°±ç»ª

  #description
  æ— ç¼å…¼å®¹å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯æ¸²æŸ“ã€‚
  :::

  :::u-page-card
  ---
  icon: i-ph-puzzle-piece-duotone
  to: https://nuxt-color-mode.zhcndoc.com/getting-started/installation
  ---
  #title
  æ¡†æ¶æ”¯æŒ

  #description
  å¼€ç®±å³ç”¨ï¼Œæ”¯æŒ Tailwind CSS åŠå…¶ä»–æµè¡Œ CSS æ¡†æ¶ã€‚
  :::
::

::u-page-section
---
align: center
---
#title
æ•°åƒåå¼€å‘è€…çš„ä¿¡èµ–ä¹‹é€‰

#description
Nuxt Color Mode è¢«å…¨çƒå„å…¬å¸å’Œå¼€å‘è€…ä½¿ç”¨ï¼Œæä¾›æ— ç¼çš„æš—é»‘æ¨¡å¼ä½“éªŒã€‚

#links
  :::u-button
  ---
  icon: i-ph-rocket-launch-duotone
  size: xl
  to: https://nuxt-color-mode.zhcndoc.com/getting-started
  ---
  å¿«é€Ÿå¼€å§‹
  :::
::


# ä»‹ç»

ä½¿ç”¨ Nuxt è½»æ¾å®ç°å¸¦è‡ªåŠ¨æ£€æµ‹çš„æš—é»‘ä¸äº®è‰²æ¨¡å¼ ğŸŒ—

## ç‰¹æ€§

- å‘ `<html>` æ·»åŠ å¯é…ç½®çš„ `.${color}` ç±»ï¼Œæ–¹ä¾¿ CSS ä¸»é¢˜å®šåˆ¶
- å¼ºåˆ¶é¡µé¢åˆ°ç‰¹å®šé¢œè‰²æ¨¡å¼ï¼ˆéå¸¸é€‚åˆæ¸è¿›å¼å¼€å‘ï¼‰
- æ”¯æŒå®¢æˆ·ç«¯å’Œé€šç”¨æ¸²æŸ“
- è‡ªåŠ¨æ£€æµ‹ç³»ç»Ÿçš„ [color-mode](https://drafts.csswg.org/mediaqueries-5/#descdef-media-prefers-color-mode){rel="&#x22;nofollow&#x22;"}

## åœ¨çº¿æ¼”ç¤º

æŸ¥çœ‹[åœ¨çº¿æ¼”ç¤º](https://color-mode.nuxt.dev/){rel="&#x22;nofollow&#x22;"}å’Œ[æºä»£ç ](https://github.com/nuxt-modules/color-mode/tree/main/playground){rel="&#x22;nofollow&#x22;"}ã€‚


# å®‰è£…

::callout
å½“å‰ç‰ˆæœ¬çš„ 

`@nuxtjs/color-mode`

 å…¼å®¹ 

[Nuxt 3+](https://nuxt.com){rel=""nofollow""}

ã€‚å¦‚æœä½ æ­£åœ¨å¯»æ‰¾è¯¥æ¨¡å—çš„æ—§ç‰ˆæœ¬ï¼Œè¯·æŸ¥çœ‹ 

[v2.color-mode.nuxtjs.org](https://v2.color-mode.nuxtjs.org/){rel=""nofollow""}

ã€‚
::

## è®¾ç½®

å°† `@nuxtjs/color-mode` ä¾èµ–æ·»åŠ åˆ°ä½ çš„é¡¹ç›®ä¸­ï¼š

```bash
npx nuxt module add color-mode
```

ç„¶åï¼Œå°† `@nuxtjs/color-mode` æ·»åŠ åˆ°ä½ çš„ `nuxt.config.ts` çš„ `modules` éƒ¨åˆ†ï¼š

```ts [nuxt.config.ts]
export default defineNuxtConfig({
  modules: [
    '@nuxtjs/color-mode'
  ]
})
```

ç°åœ¨ä½ å¯ä»¥å¼€å§‹åœ¨åº”ç”¨ä¸­ä½¿ç”¨ `.dark` å’Œ `.light` ç±»æ¥ä½¿ç”¨é¢œè‰²æ¨¡å¼äº† âœ¨


# åŸºæœ¬ç”¨æ³•

ä½ å¯ä»¥é€šè¿‡è°ƒç”¨ `useColorMode()` æˆ–åœ¨æ¨¡æ¿ä¸­ç›´æ¥è®¿é—® `$colorMode` æ¥ä½¿ç”¨é¢œè‰²æ¨¡å¼åŠ©æ‰‹ã€‚è¯¥åŠ©æ‰‹å…·æœ‰ä»¥ä¸‹å±æ€§ï¼š

- `preference`ï¼šå®é™…é€‰æ‹©çš„é¢œè‰²æ¨¡å¼ï¼ˆå¯ä»¥æ˜¯ `'system'`ï¼‰ï¼Œæ›´æ–°å®ƒå¯æ”¹å˜ç”¨æˆ·åå¥½çš„é¢œè‰²æ¨¡å¼
- `value`ï¼šå½“ `$colorMode === 'system'` æ—¶ï¼Œç”¨äºäº†è§£æ£€æµ‹åˆ°çš„é¢œè‰²æ¨¡å¼ï¼Œä¸åº”ä¿®æ”¹å®ƒ
- `unknown`ï¼šåœ¨ SSR æˆ–é™æ€ç”Ÿæˆæ—¶åˆ¤æ–­æ˜¯å¦éœ€è¦æ¸²æŸ“å ä½ç¬¦
- `forced`ï¼šç”¨äºåˆ¤æ–­å½“å‰é¢œè‰²æ¨¡å¼æ˜¯å¦è¢«å½“å‰é¡µé¢å¼ºåˆ¶è®¾ç½®ï¼ˆç”¨äºéšè—é¢œè‰²é€‰æ‹©å™¨ï¼‰

## ç¤ºä¾‹

```html [pages/index.vue]
<template>
  <div>
    <h1>é¢œè‰²æ¨¡å¼: {{ $colorMode.value }}</h1>
    <select v-model="$colorMode.preference">
      <option value="system">ç³»ç»Ÿ</option>
      <option value="light">æµ…è‰²</option>
      <option value="dark">æ·±è‰²</option>
      <option value="sepia">æ£•è¤è‰²</option>
    </select>
  </div>
</template>

<script setup>
const colorMode = useColorMode()

console.log(colorMode.preference)
</script>

<style>
body {
  background-color: #fff;
  color: rgba(0,0,0,0.8);
}
.dark body {
  background-color: #091a28;
  color: #ebf4f1;
}
.sepia body {
  background-color: #f1e7d0;
  color: #433422;
}
</style>
```

::callout
ä½ å¯ä»¥åœ¨ 

`nuxt.config.ts`

 æ–‡ä»¶ä¸­é…ç½® 

`colorMode.classSuffix`

 é€‰é¡¹æ¥ä¿®æ”¹è¿™äº›ç±»åã€‚æ›´å¤šè¯¦æƒ…è¯·å‚é˜…

[é…ç½®](https://nuxt-color-mode.zhcndoc.com/usage/configuration)

ç« èŠ‚ã€‚
::

## Tailwind CSS

ç”±äºè¯¥æ¨¡å—ä¼šå‘ `<html>` å…ƒç´ æ·»åŠ  `.dark` ç±»ï¼Œä½ å¯ä»¥å°†å…¶ä¸ [Tailwind CSS](https://tailwindcss.com){rel="&#x22;nofollow&#x22;"} çš„æš—æ¨¡å¼ç»“åˆä½¿ç”¨ã€‚

### Tailwind CSS v4

åœ¨ Tailwind CSS v4 ä¸­ï¼Œä½ éœ€è¦é‡å†™ `dark` å˜ä½“ä»¥ä½¿ç”¨ `.dark` ç±»æ›¿ä»£é»˜è®¤çš„ `prefers-color-scheme` åª’ä½“æŸ¥è¯¢ã€‚å°†ä»¥ä¸‹å†…å®¹æ·»åŠ åˆ°ä½ çš„ CSS æ–‡ä»¶ï¼š

```css [assets/css/main.css]
@import "tailwindcss";

@custom-variant dark (&:where(.dark, .dark *));
```

ä½ è¿˜å¯ä»¥ä¸ºä»»ä½•é¢å¤–çš„é¢œè‰²æ¨¡å¼åˆ›å»ºè‡ªå®šä¹‰å˜ä½“ï¼š

```css [assets/css/main.css]
@import "tailwindcss";

@custom-variant dark (&:where(.dark, .dark *));
@custom-variant sepia (&:where(.sepia, .sepia *));
```

ç„¶ååœ¨æ¨¡æ¿ä¸­ä½¿ç”¨è¿™äº›å˜ä½“ï¼š

```html
<div class="bg-white dark:bg-gray-900 sepia:bg-amber-50">
  <h1 class="text-gray-900 dark:text-white sepia:text-amber-900">
    Hello world
  </h1>
</div>
```

### Tailwind CSS v3

åœ¨ Tailwind CSS v3 ä¸­ï¼Œåœ¨ä½ çš„ `tailwind.config.js` ä¸­å°† `darkMode` è®¾ç½®ä¸º `'selector'`ï¼ˆv3.4.1+ï¼‰æˆ– `'class'`ï¼š

```js [tailwind.config.js]
export default {
  darkMode: 'selector',
}
```

::callout
å¦‚æœä½ æ­£åœ¨ä½¿ç”¨å¸¦æœ‰ Tailwind CSS v3 çš„ 

`@nuxtjs/tailwindcss`

 v6ï¼Œåˆ™è¯¥é…ç½®æ˜¯è‡ªåŠ¨å®Œæˆçš„ã€‚
::


# å¼ºåˆ¶é¢œè‰²æ¨¡å¼

ä½ å¯ä»¥é€šè¿‡ä½¿ç”¨ `definePageMeta` è®¾ç½® `colorMode` å±æ€§ï¼Œåœ¨é¡µé¢çº§åˆ«å¼ºåˆ¶æŒ‡å®šé¢œè‰²æ¨¡å¼ï¼š

```html [pages/light.vue]
<template>
  <h1>æ­¤é¡µé¢è¢«å¼ºåˆ¶ä¸ºæµ…è‰²æ¨¡å¼</h1>
</template>

<script setup>
definePageMeta({
  colorMode: 'light',
})
</script>
```

æ­¤åŠŸèƒ½éå¸¸é€‚åˆé€šè¿‡å°†å°šæœªå‡†å¤‡å¥½çš„é¡µé¢è®¾ç½®ä¸º `colorMode: 'light'` æ¥é€æ­¥ä¸ºç½‘ç«™å®ç°æš—è‰²æ¨¡å¼ã€‚

::callout
æˆ‘ä»¬å»ºè®®éšè—æˆ–ç¦ç”¨é¡µé¢ä¸Šçš„é¢œè‰²æ¨¡å¼é€‰æ‹©å™¨ï¼Œå› ä¸ºå®ƒæ— æ³•æ›´æ”¹å½“å‰é¡µé¢çš„é¢œè‰²æ¨¡å¼ï¼Œå¯ä»¥é€šè¿‡ä½¿ç”¨ 

`$colorMode.forced`

 å€¼æ¥åˆ¤æ–­ã€‚
::


# é…ç½®

ä½ å¯ä»¥é€šè¿‡åœ¨ `nuxt.config.ts` ä¸­æä¾› `colorMode` å±æ€§æ¥é…ç½®è¯¥æ¨¡å—ã€‚ä»¥ä¸‹æ˜¯é»˜è®¤é€‰é¡¹ï¼š

```ts [nuxt.config.ts]
export default defineNuxtConfig({
  modules: ['@nuxtjs/color-mode'],
  colorMode: {
    preference: 'system', // $colorMode.preference çš„é»˜è®¤å€¼
    fallback: 'light', // æœªæ£€æµ‹åˆ°ç³»ç»Ÿåå¥½æ—¶çš„å›é€€å€¼
    globalName: '__NUXT_COLOR_MODE__',
    componentName: 'ColorScheme',
    classPrefix: '',
    classSuffix: '',
    storage: 'localStorage', // æˆ– 'sessionStorage' æˆ– 'cookie'
    storageKey: 'nuxt-color-mode',
    cookieAttrs: { 'max-age': '31536000', path: '/' }
  }
})
```

## é€‰é¡¹

### `preference`

- ç±»å‹ï¼š`string`
- é»˜è®¤å€¼ï¼š`'system'`

é»˜è®¤çš„é¢œè‰²æ¨¡å¼åå¥½ã€‚`'system'` æ˜¯ä¸€ä¸ªç‰¹æ®Šå€¼ï¼Œä¼šæ ¹æ®ç³»ç»Ÿåå¥½è‡ªåŠ¨æ£€æµ‹é¢œè‰²æ¨¡å¼ã€‚

### `fallback`

- ç±»å‹ï¼š`string`
- é»˜è®¤å€¼ï¼š`'light'`

å¦‚æœæœªæ£€æµ‹åˆ°ç³»ç»Ÿåå¥½ï¼Œåˆ™ä½¿ç”¨çš„å›é€€é¢œè‰²æ¨¡å¼å€¼ã€‚

### `dataValue`

- ç±»å‹ï¼š`string`
- é»˜è®¤å€¼ï¼š`undefined`

å¯é€‰çš„æ•°æ®é›†å±æ€§ï¼Œæ·»åŠ åˆ° `<html>` å…ƒç´ ä¸Šã€‚ä¾‹å¦‚ï¼Œå¦‚æœè®¾ç½® `dataValue: 'theme'`ï¼Œåˆ™ä¼šåœ¨ `<html>` ä¸Šæ·»åŠ  `data-theme="dark"`ã€‚è¿™å¯¹äºä½¿ç”¨ daisyUI ç­‰åº“æ—¶éå¸¸æœ‰ç”¨ã€‚

### `storage`

- ç±»å‹ï¼š`'localStorage' | 'sessionStorage' | 'cookie'`
- é»˜è®¤å€¼ï¼š`'localStorage'`

ç”¨äºæŒä¹…åŒ–é¢œè‰²æ¨¡å¼åå¥½çš„å­˜å‚¨ç±»å‹ã€‚

### `storageKey`

- ç±»å‹ï¼š`string`
- é»˜è®¤å€¼ï¼š`'nuxt-color-mode'`

å­˜å‚¨çš„é”®åã€‚

### `cookieAttrs`

- ç±»å‹ï¼š`object`
- é»˜è®¤å€¼ï¼š`{ 'max-age': '31536000', path: '/' }`

å½“ `storage` è®¾ç½®ä¸º `'cookie'` æ—¶ï¼Œè®¾ç½® cookie çš„å±æ€§ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œcookie è®¾ç½®ä¸ºä¸€å¹´æœ‰æ•ˆæœŸå¹¶ä¸”ä½œç”¨åŸŸä¸ºæ ¹è·¯å¾„ã€‚

ä½ å¯ä»¥è¦†ç›–è¿™äº›å±æ€§ä»¥è‡ªå®šä¹‰ cookie è¡Œä¸ºï¼Œä¾‹å¦‚è®¾ç½® `SameSite` æˆ– `Secure`ï¼š

```ts [nuxt.config.ts]
export default defineNuxtConfig({
  modules: ['@nuxtjs/color-mode'],
  colorMode: {
    storage: 'cookie',
    cookieAttrs: {
      'max-age': '31536000',
      'path': '/',
      'SameSite': 'Lax',
      'Secure': '',
    }
  }
})
```


# æ³¨æ„äº‹é¡¹

å½“ `$colorMode.preference` è®¾ç½®ä¸º `'system'` æ—¶ï¼Œåœ¨ä½ çš„ Vue æ¨¡æ¿ä¸­ä½¿ç”¨ `$colorMode` ä¼šå¯¼è‡´é—ªçƒã€‚è¿™æ˜¯å› ä¸ºåœ¨é¢„æ¸²æŸ“é¡µé¢æ—¶æ— æ³•çŸ¥é“ç”¨æˆ·åå¥½ï¼Œå› ä¸ºè¿™äº›åå¥½æ˜¯åœ¨å®¢æˆ·ç«¯æ£€æµ‹çš„ã€‚

## é¿å…é—ªçƒ

ä¸ºäº†é¿å…é—ªçƒï¼Œä½ å¿…é¡»ä½¿ç”¨ `$colorMode.unknown` æ¥ä¿æŠ¤ä»»ä½•ä¾èµ– `$colorMode` çš„æ¸²æŸ“è·¯å¾„ï¼Œä»¥æ¸²æŸ“å ä½ç¬¦ï¼Œæˆ–è€…ä½¿ç”¨ `<ColorScheme>` ç»„ä»¶ã€‚

### ç¤ºä¾‹

```vue
<template>
  <ColorScheme placeholder="..." tag="span">
    Color mode: <b>{{ $colorMode.preference }}</b>
    <span v-if="$colorMode.preference === 'system'">
      (<i>{{ $colorMode.value }}</i> æ¨¡å¼è¢«æ£€æµ‹)
    </span>
  </ColorScheme>
</template>
```


# è¿ç§»æŒ‡å—

## è¿ç§»åˆ° v4

`@nuxtjs/color-mode` çš„ v4 ç‰ˆæœ¬è¦æ±‚ Nuxt 3+ï¼Œä¸å†æ”¯æŒ Nuxt Bridgeã€‚å®ƒè¿˜å¼•å…¥äº†è‹¥å¹²é‡å¤§å˜æ›´ä»¥ä¼˜åŒ–æ¨¡å—ã€‚

### ä¸»è¦å˜åŒ–

#### 1. å»é™¤é»˜è®¤ç±»åç¼€

é»˜è®¤çš„ `classSuffix` å·²è¢«ç§»é™¤ã€‚å¦‚æœä½ ä¹‹å‰ä¾èµ–é»˜è®¤çš„ `-mode` åç¼€ï¼Œéœ€åœ¨é…ç½®ä¸­æ˜¾å¼è®¾ç½®ï¼š

```ts
export default defineNuxtConfig({
  colorMode: {
    classSuffix: '-mode'
  }
})
```

æˆ–è€…æ›´æ–°ä½ çš„ CSS ç±»ï¼Œå»æ‰åç¼€ï¼š

```diff
- .dark-mode { }
- .light-mode { }
+ .dark { }
+ .light { }
```

#### 2. ä¸å†æ”¯æŒ CommonJS

è¯¥æ¨¡å—ä¸å†æä¾› CommonJS æ„å»ºï¼Œç¡®ä¿ä½ çš„é¡¹ç›®ä½¿ç”¨ ESMï¼ˆNuxt 3 çš„é»˜è®¤é…ç½®ï¼‰ã€‚

#### 3. é¢œè‰²æ¨¡å¼å€¼åªè¯»

æ— æ³•å†ç›´æ¥è®¾ç½® `colorMode.value`ï¼Œè¯·æ”¹ç”¨ `colorMode.preference`ï¼š

```diff
<script setup>
const colorMode = useColorMode()

- colorMode.value = 'dark'
+ colorMode.preference = 'dark'
</script>
```

`value` å±æ€§ç°åœ¨æ˜¯åªè¯»çš„ï¼Œåæ˜ å®é™…ä½¿ç”¨çš„é¢œè‰²æ¨¡å¼ï¼ˆä½¿ç”¨ç³»ç»Ÿåå¥½æ£€æµ‹æ—¶ï¼Œå¯èƒ½ä¸ `preference` ä¸åŒï¼‰ã€‚

#### 4. ç§»é™¤ `hid` é€‰é¡¹

å·²åºŸå¼ƒçš„ `hid` é…ç½®é€‰é¡¹å·²è¢«ç§»é™¤ã€‚å¦‚æœä½ ä¹‹å‰ä½¿ç”¨äº†å®ƒï¼Œç›´æ¥åˆ é™¤å³å¯ï¼š

```diff
export default defineNuxtConfig({
  colorMode: {
-   hid: 'nuxt-color-mode-script',
    preference: 'system',
  }
})
```

#### 5. ä¸å†æ”¯æŒ Nuxt Bridge

ä¸å†æ”¯æŒ Nuxt Bridgeã€‚å¦‚æœä½ ä»åœ¨ä½¿ç”¨ Nuxt Bridgeï¼Œå»ºè®®ç»§ç»­ä½¿ç”¨ v3ã€‚å¦åˆ™è¯·å‡çº§åˆ° Nuxt 3+ã€‚

---

## è¿ç§»åˆ° v3

`@nuxtjs/color-mode` çš„ v3 ç‰ˆæœ¬éœ€è¦ Nuxt Bridge æˆ– Nuxt 3+ã€‚å¦‚æœä½ ä½¿ç”¨çš„æ˜¯ä¸å¸¦ Bridge çš„ Nuxt 2ï¼Œå»ºè®®ç»§ç»­ä½¿ç”¨ v2ã€‚

## ä¸»è¦å˜åŒ–

### 1. é¡µé¢å…ƒä¿¡æ¯é…ç½®

Nuxt 2 â†’ Nuxt 3+ ä¹‹é—´çš„ä¸»è¦å˜åŒ–æ˜¯åœ¨é¡µé¢çº§åˆ«å®šä¹‰é¢œè‰²æ¨¡å¼ï¼Œä½¿ç”¨ `definePageMeta`ï¼š

```diff
<template>
  <h1>æ­¤é¡µé¢å¼ºåˆ¶ä½¿ç”¨æµ…è‰²æ¨¡å¼</h1>
</template>

- <script>
- export default {
-   colorMode: 'light',
- }
+ <script setup>
+ definePageMeta({
+   colorMode: 'light',
+ })
</script>
```

::callout{type="warning"}
å¦‚æœä½ ä½¿ç”¨ Nuxt Bridgeï¼Œä¸åº”ä½¿ç”¨ 

`definePageMeta`

ï¼Œåº”ç»§ç»­ä½¿ç”¨ç»„ä»¶é€‰é¡¹æ–¹å¼çš„ 

`colorMode`

ã€‚
::

### 2. ç»„åˆå¼ API

`$colorMode` helper ä¿æŒä¸å˜ï¼Œä½†æ–°å¢äº†ç»„åˆå¼å‡½æ•° (`useColorMode`)ï¼Œè¿™æ˜¯æ¨èçš„è®¿é—®é¢œè‰²æ¨¡å¼ä¿¡æ¯çš„æ–¹å¼ã€‚

```vue
<script setup>
const colorMode = useColorMode()

// è®¿é—®å±æ€§
console.log(colorMode.preference)
console.log(colorMode.value)
</script>
```

### 3. ç±»å‹å¯¼å…¥

å¦‚æœä½ ç›´æ¥å¯¼å…¥é¢œè‰²æ¨¡å¼é…ç½®ç±»å‹ï¼Œæ³¨æ„åç§°å·²æ”¹ä¸º `ModuleOptions`ã€‚

```ts
// ä¹‹å‰
import type { ColorModeConfig } from '@nuxtjs/color-mode'

// ä¹‹å
import type { ModuleOptions } from '@nuxtjs/color-mode'
```


# è´¡çŒ®

æ¬¢è¿è´¡çŒ®ï¼ä»¥ä¸‹æ˜¯æ‚¨å¯ä»¥å¸®åŠ©æ”¹è¿› Nuxt Color Mode çš„æ–¹æ³•ã€‚

## å¼€å‘ç¯å¢ƒæ­å»º

1. å…‹éš†ä»“åº“ï¼š

```bash
git clone https://github.com/nuxt-modules/color-mode.git
cd color-mode
```

2. å®‰è£…ä¾èµ–ï¼š

```bash
pnpm install
```

3. å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼š

```bash
pnpm dev
```

è¿™å°†åœ¨ `http://localhost:3000` å¯åŠ¨ playgroundã€‚

## é¡¹ç›®ç»“æ„

- `src/` - æ¨¡å—æºä»£ç 
- `playground/` - å¼€å‘æµ‹è¯• playground
- `docs/` - æ–‡æ¡£ç½‘ç«™
- `test/` - æµ‹è¯•å¥—ä»¶

## Pull Requests

1. Fork ä»“åº“
2. ä¸ºæ‚¨çš„åŠŸèƒ½æˆ–ä¿®å¤åˆ›å»ºæ–°åˆ†æ”¯
3. è¿›è¡Œæ›´æ”¹
4. å¦‚é€‚ç”¨ï¼Œæ·»åŠ æµ‹è¯•
5. è¿è¡Œæµ‹è¯•å¥—ä»¶ï¼š`pnpm test`
6. éµå¾ª [Conventional Commits](https://www.conventionalcommits.org/){rel="&#x22;nofollow&#x22;"} æäº¤æ›´æ”¹
7. æäº¤ Pull Request

## é—®é¢˜åé¦ˆ

å‘ç° BUG æˆ–æœ‰åŠŸèƒ½è¯·æ±‚ï¼Ÿè¯·åœ¨ [GitHub](https://github.com/nuxt-modules/color-mode/issues){rel="&#x22;nofollow&#x22;"} ä¸Šæäº¤ issueã€‚
