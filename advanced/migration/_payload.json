[{"data":1,"prerenderedAt":670},["ShallowReactive",2],{"navigation_docs":3,"-advanced-migration":49,"-advanced-migration-surround":665},[4,14,32,45],{"title":5,"path":6,"stem":7,"children":8},"介绍","/getting-started","1.getting-started/1.index",[9,10],{"title":5,"path":6,"stem":7},{"title":11,"path":12,"stem":13},"安装","/getting-started/installation","1.getting-started/2.installation",{"title":15,"path":16,"stem":17,"children":18,"page":31},"入门","/usage","2.usage",[19,23,27],{"title":20,"path":21,"stem":22},"基本用法","/usage/basic","2.usage/1.basic",{"title":24,"path":25,"stem":26},"强制颜色模式","/usage/force-mode","2.usage/2.force-mode",{"title":28,"path":29,"stem":30},"配置","/usage/configuration","2.usage/3.configuration",false,{"title":33,"path":34,"stem":35,"children":36,"page":31},"高级用法","/advanced","3.advanced",[37,41],{"title":38,"path":39,"stem":40},"注意事项","/advanced/caveats","3.advanced/1.caveats",{"title":42,"path":43,"stem":44},"迁移指南","/advanced/migration","3.advanced/2.migration",{"title":46,"path":47,"stem":48},"贡献","/contributing","4.contributing",{"id":50,"title":42,"body":51,"description":659,"extension":660,"links":661,"meta":662,"navigation":246,"path":43,"seo":663,"stem":44,"__hash__":664},"docs/3.advanced/2.migration.md",{"type":52,"value":53,"toc":648},"minimark",[54,59,67,71,76,87,165,168,205,209,212,216,227,268,278,286,292,328,332,335,338,342,347,350,354,360,450,462,466,476,568,572,578,644],[55,56,58],"h2",{"id":57},"迁移到-v4","迁移到 v4",[60,61,62,66],"p",{},[63,64,65],"code",{},"@nuxtjs/color-mode"," 的 v4 版本要求 Nuxt 3+，不再支持 Nuxt Bridge。它还引入了若干重大变更以优化模块。",[68,69,70],"h3",{"id":70},"主要变化",[72,73,75],"h4",{"id":74},"_1-去除默认类后缀","1. 去除默认类后缀",[60,77,78,79,82,83,86],{},"默认的 ",[63,80,81],{},"classSuffix"," 已被移除。如果你之前依赖默认的 ",[63,84,85],{},"-mode"," 后缀，需在配置中显式设置：",[88,89,94],"pre",{"className":90,"code":91,"language":92,"meta":93,"style":93},"language-ts shiki shiki-themes material-theme-lighter material-theme material-theme-palenight","export default defineNuxtConfig({\n  colorMode: {\n    classSuffix: '-mode'\n  }\n})\n","ts","",[63,95,96,120,133,150,156],{"__ignoreMap":93},[97,98,101,105,108,112,116],"span",{"class":99,"line":100},"line",1,[97,102,104],{"class":103},"s7zQu","export",[97,106,107],{"class":103}," default",[97,109,111],{"class":110},"s2Zo4"," defineNuxtConfig",[97,113,115],{"class":114},"sTEyZ","(",[97,117,119],{"class":118},"sMK4o","{\n",[97,121,123,127,130],{"class":99,"line":122},2,[97,124,126],{"class":125},"swJcz","  colorMode",[97,128,129],{"class":118},":",[97,131,132],{"class":118}," {\n",[97,134,136,139,141,144,147],{"class":99,"line":135},3,[97,137,138],{"class":125},"    classSuffix",[97,140,129],{"class":118},[97,142,143],{"class":118}," '",[97,145,85],{"class":146},"sfazB",[97,148,149],{"class":118},"'\n",[97,151,153],{"class":99,"line":152},4,[97,154,155],{"class":118},"  }\n",[97,157,159,162],{"class":99,"line":158},5,[97,160,161],{"class":118},"}",[97,163,164],{"class":114},")\n",[60,166,167],{},"或者更新你的 CSS 类，去掉后缀：",[88,169,173],{"className":170,"code":171,"language":172,"meta":93,"style":93},"language-diff shiki shiki-themes material-theme-lighter material-theme material-theme-palenight","- .dark-mode { }\n- .light-mode { }\n+ .dark { }\n+ .light { }\n","diff",[63,174,175,183,190,198],{"__ignoreMap":93},[97,176,177,180],{"class":99,"line":100},[97,178,179],{"class":118},"-",[97,181,182],{"class":125}," .dark-mode { }\n",[97,184,185,187],{"class":99,"line":122},[97,186,179],{"class":118},[97,188,189],{"class":125}," .light-mode { }\n",[97,191,192,195],{"class":99,"line":135},[97,193,194],{"class":118},"+",[97,196,197],{"class":146}," .dark { }\n",[97,199,200,202],{"class":99,"line":152},[97,201,194],{"class":118},[97,203,204],{"class":146}," .light { }\n",[72,206,208],{"id":207},"_2-不再支持-commonjs","2. 不再支持 CommonJS",[60,210,211],{},"该模块不再提供 CommonJS 构建，确保你的项目使用 ESM（Nuxt 3 的默认配置）。",[72,213,215],{"id":214},"_3-颜色模式值只读","3. 颜色模式值只读",[60,217,218,219,222,223,226],{},"无法再直接设置 ",[63,220,221],{},"colorMode.value","，请改用 ",[63,224,225],{},"colorMode.preference","：",[88,228,230],{"className":170,"code":229,"language":172,"meta":93,"style":93},"\u003Cscript setup>\nconst colorMode = useColorMode()\n\n- colorMode.value = 'dark'\n+ colorMode.preference = 'dark'\n\u003C/script>\n",[63,231,232,237,242,248,255,262],{"__ignoreMap":93},[97,233,234],{"class":99,"line":100},[97,235,236],{"class":114},"\u003Cscript setup>\n",[97,238,239],{"class":99,"line":122},[97,240,241],{"class":114},"const colorMode = useColorMode()\n",[97,243,244],{"class":99,"line":135},[97,245,247],{"emptyLinePlaceholder":246},true,"\n",[97,249,250,252],{"class":99,"line":152},[97,251,179],{"class":118},[97,253,254],{"class":125}," colorMode.value = 'dark'\n",[97,256,257,259],{"class":99,"line":158},[97,258,194],{"class":118},[97,260,261],{"class":146}," colorMode.preference = 'dark'\n",[97,263,265],{"class":99,"line":264},6,[97,266,267],{"class":114},"\u003C/script>\n",[60,269,270,273,274,277],{},[63,271,272],{},"value"," 属性现在是只读的，反映实际使用的颜色模式（使用系统偏好检测时，可能与 ",[63,275,276],{},"preference"," 不同）。",[72,279,281,282,285],{"id":280},"_4-移除-hid-选项","4. 移除 ",[63,283,284],{},"hid"," 选项",[60,287,288,289,291],{},"已废弃的 ",[63,290,284],{}," 配置选项已被移除。如果你之前使用了它，直接删除即可：",[88,293,295],{"className":170,"code":294,"language":172,"meta":93,"style":93},"export default defineNuxtConfig({\n  colorMode: {\n-   hid: 'nuxt-color-mode-script',\n    preference: 'system',\n  }\n})\n",[63,296,297,302,307,314,319,323],{"__ignoreMap":93},[97,298,299],{"class":99,"line":100},[97,300,301],{"class":114},"export default defineNuxtConfig({\n",[97,303,304],{"class":99,"line":122},[97,305,306],{"class":114},"  colorMode: {\n",[97,308,309,311],{"class":99,"line":135},[97,310,179],{"class":118},[97,312,313],{"class":125},"   hid: 'nuxt-color-mode-script',\n",[97,315,316],{"class":99,"line":152},[97,317,318],{"class":114},"    preference: 'system',\n",[97,320,321],{"class":99,"line":158},[97,322,155],{"class":114},[97,324,325],{"class":99,"line":264},[97,326,327],{"class":114},"})\n",[72,329,331],{"id":330},"_5-不再支持-nuxt-bridge","5. 不再支持 Nuxt Bridge",[60,333,334],{},"不再支持 Nuxt Bridge。如果你仍在使用 Nuxt Bridge，建议继续使用 v3。否则请升级到 Nuxt 3+。",[336,337],"hr",{},[55,339,341],{"id":340},"迁移到-v3","迁移到 v3",[60,343,344,346],{},[63,345,65],{}," 的 v3 版本需要 Nuxt Bridge 或 Nuxt 3+。如果你使用的是不带 Bridge 的 Nuxt 2，建议继续使用 v2。",[55,348,70],{"id":349},"主要变化-1",[68,351,353],{"id":352},"_1-页面元信息配置","1. 页面元信息配置",[60,355,356,357,226],{},"Nuxt 2 → Nuxt 3+ 之间的主要变化是在页面级别定义颜色模式，使用 ",[63,358,359],{},"definePageMeta",[88,361,363],{"className":170,"code":362,"language":172,"meta":93,"style":93},"\u003Ctemplate>\n  \u003Ch1>此页面强制使用浅色模式\u003C/h1>\n\u003C/template>\n\n- \u003Cscript>\n- export default {\n-   colorMode: 'light',\n- }\n+ \u003Cscript setup>\n+ definePageMeta({\n+   colorMode: 'light',\n+ })\n\u003C/script>\n",[63,364,365,370,375,380,384,391,398,406,414,422,430,437,445],{"__ignoreMap":93},[97,366,367],{"class":99,"line":100},[97,368,369],{"class":114},"\u003Ctemplate>\n",[97,371,372],{"class":99,"line":122},[97,373,374],{"class":114},"  \u003Ch1>此页面强制使用浅色模式\u003C/h1>\n",[97,376,377],{"class":99,"line":135},[97,378,379],{"class":114},"\u003C/template>\n",[97,381,382],{"class":99,"line":152},[97,383,247],{"emptyLinePlaceholder":246},[97,385,386,388],{"class":99,"line":158},[97,387,179],{"class":118},[97,389,390],{"class":125}," \u003Cscript>\n",[97,392,393,395],{"class":99,"line":264},[97,394,179],{"class":118},[97,396,397],{"class":125}," export default {\n",[97,399,401,403],{"class":99,"line":400},7,[97,402,179],{"class":118},[97,404,405],{"class":125},"   colorMode: 'light',\n",[97,407,409,411],{"class":99,"line":408},8,[97,410,179],{"class":118},[97,412,413],{"class":125}," }\n",[97,415,417,419],{"class":99,"line":416},9,[97,418,194],{"class":118},[97,420,421],{"class":146}," \u003Cscript setup>\n",[97,423,425,427],{"class":99,"line":424},10,[97,426,194],{"class":118},[97,428,429],{"class":146}," definePageMeta({\n",[97,431,433,435],{"class":99,"line":432},11,[97,434,194],{"class":118},[97,436,405],{"class":146},[97,438,440,442],{"class":99,"line":439},12,[97,441,194],{"class":118},[97,443,444],{"class":146}," })\n",[97,446,448],{"class":99,"line":447},13,[97,449,267],{"class":114},[451,452,454,455,457,458,461],"callout",{"type":453},"warning","如果你使用 Nuxt Bridge，不应使用 ",[63,456,359],{},"，应继续使用组件选项方式的 ",[63,459,460],{},"colorMode","。",[68,463,465],{"id":464},"_2-组合式-api","2. 组合式 API",[60,467,468,471,472,475],{},[63,469,470],{},"$colorMode"," helper 保持不变，但新增了组合式函数 (",[63,473,474],{},"useColorMode",")，这是推荐的访问颜色模式信息的方式。",[88,477,481],{"className":478,"code":479,"language":480,"meta":93,"style":93},"language-vue shiki shiki-themes material-theme-lighter material-theme material-theme-palenight","\u003Cscript setup>\nconst colorMode = useColorMode()\n\n// 访问属性\nconsole.log(colorMode.preference)\nconsole.log(colorMode.value)\n\u003C/script>\n","vue",[63,482,483,498,515,519,525,544,559],{"__ignoreMap":93},[97,484,485,488,491,495],{"class":99,"line":100},[97,486,487],{"class":118},"\u003C",[97,489,490],{"class":125},"script",[97,492,494],{"class":493},"spNyl"," setup",[97,496,497],{"class":118},">\n",[97,499,500,503,506,509,512],{"class":99,"line":122},[97,501,502],{"class":493},"const",[97,504,505],{"class":114}," colorMode ",[97,507,508],{"class":118},"=",[97,510,511],{"class":110}," useColorMode",[97,513,514],{"class":114},"()\n",[97,516,517],{"class":99,"line":135},[97,518,247],{"emptyLinePlaceholder":246},[97,520,521],{"class":99,"line":152},[97,522,524],{"class":523},"sHwdD","// 访问属性\n",[97,526,527,530,533,536,539,541],{"class":99,"line":158},[97,528,529],{"class":114},"console",[97,531,532],{"class":118},".",[97,534,535],{"class":110},"log",[97,537,538],{"class":114},"(colorMode",[97,540,532],{"class":118},[97,542,543],{"class":114},"preference)\n",[97,545,546,548,550,552,554,556],{"class":99,"line":264},[97,547,529],{"class":114},[97,549,532],{"class":118},[97,551,535],{"class":110},[97,553,538],{"class":114},[97,555,532],{"class":118},[97,557,558],{"class":114},"value)\n",[97,560,561,564,566],{"class":99,"line":400},[97,562,563],{"class":118},"\u003C/",[97,565,490],{"class":125},[97,567,497],{"class":118},[68,569,571],{"id":570},"_3-类型导入","3. 类型导入",[60,573,574,575,461],{},"如果你直接导入颜色模式配置类型，注意名称已改为 ",[63,576,577],{},"ModuleOptions",[88,579,581],{"className":90,"code":580,"language":92,"meta":93,"style":93},"// 之前\nimport type { ColorModeConfig } from '@nuxtjs/color-mode'\n\n// 之后\nimport type { ModuleOptions } from '@nuxtjs/color-mode'\n",[63,582,583,588,614,618,623],{"__ignoreMap":93},[97,584,585],{"class":99,"line":100},[97,586,587],{"class":523},"// 之前\n",[97,589,590,593,596,599,602,605,608,610,612],{"class":99,"line":122},[97,591,592],{"class":103},"import",[97,594,595],{"class":103}," type",[97,597,598],{"class":118}," {",[97,600,601],{"class":114}," ColorModeConfig",[97,603,604],{"class":118}," }",[97,606,607],{"class":103}," from",[97,609,143],{"class":118},[97,611,65],{"class":146},[97,613,149],{"class":118},[97,615,616],{"class":99,"line":135},[97,617,247],{"emptyLinePlaceholder":246},[97,619,620],{"class":99,"line":152},[97,621,622],{"class":523},"// 之后\n",[97,624,625,627,629,631,634,636,638,640,642],{"class":99,"line":158},[97,626,592],{"class":103},[97,628,595],{"class":103},[97,630,598],{"class":118},[97,632,633],{"class":114}," ModuleOptions",[97,635,604],{"class":118},[97,637,607],{"class":103},[97,639,143],{"class":118},[97,641,65],{"class":146},[97,643,149],{"class":118},[645,646,647],"style",{},"html pre.shiki code .s7zQu, html code.shiki .s7zQu{--shiki-light:#39ADB5;--shiki-light-font-style:italic;--shiki-default:#89DDFF;--shiki-default-font-style:italic;--shiki-dark:#89DDFF;--shiki-dark-font-style:italic}html pre.shiki code .s2Zo4, html code.shiki .s2Zo4{--shiki-light:#6182B8;--shiki-default:#82AAFF;--shiki-dark:#82AAFF}html pre.shiki code .sTEyZ, html code.shiki .sTEyZ{--shiki-light:#90A4AE;--shiki-default:#EEFFFF;--shiki-dark:#BABED8}html pre.shiki code .sMK4o, html code.shiki .sMK4o{--shiki-light:#39ADB5;--shiki-default:#89DDFF;--shiki-dark:#89DDFF}html pre.shiki code .swJcz, html code.shiki .swJcz{--shiki-light:#E53935;--shiki-default:#F07178;--shiki-dark:#F07178}html pre.shiki code .sfazB, html code.shiki .sfazB{--shiki-light:#91B859;--shiki-default:#C3E88D;--shiki-dark:#C3E88D}html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html pre.shiki code .spNyl, html code.shiki .spNyl{--shiki-light:#9C3EDA;--shiki-default:#C792EA;--shiki-dark:#C792EA}html pre.shiki code .sHwdD, html code.shiki .sHwdD{--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#546E7A;--shiki-default-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic}",{"title":93,"searchDepth":122,"depth":122,"links":649},[650,653,654],{"id":57,"depth":122,"text":58,"children":651},[652],{"id":70,"depth":135,"text":70},{"id":340,"depth":122,"text":341},{"id":349,"depth":122,"text":70,"children":655},[656,657,658],{"id":352,"depth":135,"text":353},{"id":464,"depth":135,"text":465},{"id":570,"depth":135,"text":571},"主要版本之间迁移指南","md",null,{},{"title":42,"description":659},"kAe989S34mfvEHvDqRmJi7KXI9ZL8uWvm5dKQ7ccMNI",[666,668],{"title":38,"path":39,"stem":40,"description":667,"children":-1},"使用颜色模式时的重要考虑",{"title":46,"path":47,"stem":48,"description":669,"children":-1},"了解如何为 Nuxt Color Mode 做出贡献",1771123493054]